TODO:
  * move top to the side
  * keep window positions for all modes
